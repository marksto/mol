{"version":3,"sources":["-","mol.ts","../../../../../mol.web.jam.js","../../../../../dom/context/context.ts","../../../../../dom/context/context.web.ts","../../../../../dom/jsx/jsx.ts","../../../../../dom/patch/patch.ts","../index.tsx"],"names":[],"mappings":"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","file":"web.js","sourcesContent":[null,"declare namespace $ {}\nexport = $\n",null,"namespace $ {\n\t\n\texport var $mol_dom_context : Window & {\n\t\tNode : typeof Node\n\t\tElement : typeof Element\n\t\tHTMLElement : typeof HTMLElement\n\t\tXMLHttpRequest : typeof XMLHttpRequest\n\t}\n\t\n}\n","namespace $ {\n\t\n\t$mol_dom_context = self as any\n\t\n}\n","namespace JSX {\n\texport interface Element extends HTMLElement {}\n\texport interface ElementClass { render() : Element }\n\texport interface IntrinsicElements { [ key : string ] : { [ prop : string ] : any } }\n\texport interface ElementAttributesProperty { props : {} }\n}\n\nnamespace $ {\n\n\texport function $mol_dom_jsx< Props , Children extends Array< Node | string > >(\n\t\tElem : string | ( ( props : Props , ... children : Children ) => Element ) ,\n\t\tprops : Props ,\n\t\t... children : Children\n\t) {\n\n\t\tif( typeof Elem !== 'string' ) return Elem( props , ... children )\n\n\t\tconst document = $mol_dom_context.document\n\t\tconst node = document.createElement( Elem )\n\n\t\tfor( let child of [].concat.call( [] , ... children ) ) {\n\t\t\tif( typeof child === 'string' ) child = document.createTextNode( child )\n\t\t\tnode.appendChild( child )\n\t\t}\n\n\t\tfor( const key in props ) {\n\n\t\t\tlet descr : PropertyDescriptor | undefined\n\t\t\tlet proto = node\n\n\t\t\twhile( true ) {\n\n\t\t\t\tproto = Object.getPrototypeOf( proto )\n\t\t\t\tif( !proto ) {\n\t\t\t\t\tnode.setAttribute( key , String( props[ key ] ) )\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdescr = Object.getOwnPropertyDescriptor( proto , key )\n\t\t\t\tif( !descr ) continue\n\n\t\t\t\tif( descr.set ) Object.defineProperty( node , key , descr )\n\t\t\t\tbreak\n\t\t\t}\n\n\t\t\t\n\t\t\tnode[ key as any ] = props[ key ]\n\t\t}\n\n\t\treturn node\n\n\t}\n\t\n}\n","namespace $ {\n\t\n\texport function $mol_dom_patch( target : Node | null , source : Node ) {\n\t\t\n\t\tif( target == null ) return source\n\t\tif( target.nodeName !== source.nodeName ) return source\n\n\t\tswitch( source.nodeType ) {\n\t\t\n\t\t\tcase Node.TEXT_NODE :\n\t\t\t\n\t\t\t\tif( target.nodeValue !== source.nodeValue ) target.nodeValue = source.nodeValue\n\t\t\t\treturn target\n\n\t\t\tcase Node.ELEMENT_NODE :\n\n\t\t\t\tlet overflow = - ( source as Element ).childNodes.length\n\t\t\t\tlet next = ( target as Element ).firstChild as Node\n\t\t\t\tfor( let child of ( source as Element ).childNodes ) {\n\t\t\t\t\tchild = $mol_dom_patch( next , child ) as ChildNode\n\t\t\t\t\tif( next === child ) next = next.nextSibling\n\t\t\t\t\telse target.insertBefore( child , next )\n\t\t\t\t}\n\n\t\t\t\toverflow += ( target as Element ).childNodes.length\n\t\t\t\tfor( let i = 0 ; i < overflow ; ++ i ) {\n\t\t\t\t\ttarget.removeChild( target.lastChild )\n\t\t\t\t}\n\n\t\t\t\tfor( let key of Object.getOwnPropertyNames( source ) ) {\n\t\t\t\t\ttarget[ key ] = source[ key ]\n\t\t\t\t}\n\n\t\t\t\tfor( const attr of ( target as Element ).attributes ) {\n\t\t\t\t\tif( ( source as Element ).hasAttribute( attr.nodeName ) ) continue\n\t\t\t\t\t;( target as Element ).removeAttribute( attr.nodeName )\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor( const attr of ( source as Element ).attributes ) {\n\t\t\t\t\t;( target as Element ).setAttribute( attr.nodeName , attr.nodeValue )\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn target\n\t\t\t\n\t\t\tdefault : throw new Error( `Unsupported node type ${ source.nodeType }` )\n\n\t\t}\n\n\t}\n\n}\n","namespace $ {\n\n\texport class $mol_app_bench_list_tsx {\n\t\n\t\tstatic data = {\n\t\t\tsample : '' ,\n\t\t\titems : [] as {\n\t\t\t\tid : number\n\t\t\t\ttitle : string\n\t\t\t\tcontent : string\n\t\t\t}[]\n\t\t}\n\t\t\n\t\tstatic selected = null as number\n\t\t\n\t\tstatic onClick( id : number , event : MouseEvent ) {\n\t\t\tthis.selected = id\n\t\t\tthis.render()\n\t\t}\n\n\t\tstatic render() {\n\n\t\t\tlet Item = ( { id , title , content } : {\n\t\t\t\tid : number\n\t\t\t\ttitle : string\n\t\t\t\tcontent : string\n\t\t\t} )=> (\n\t\t\t\t<div\n\t\t\t\t\tid={ id }\n\t\t\t\t\tclassName={ `list-item list-item-selected-${ this.selected === id }`  }\n\t\t\t\t\tonclick={ this.onClick.bind( this , id ) }\n\t\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tid={ `${id}.title` }\n\t\t\t\t\t\tclassName=\"list-item-title\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tid={ `${id}.content` }\n\t\t\t\t\t\tclassName=\"list-item-content\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t{ content }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t\t\n\t\t\treturn $mol_dom_patch(\n\t\t\t\tdocument.getElementById( 'list' ) ,\n\t\t\t\t<div id=\"list\" className=\"list\">\n\t\t\t\t\t{ ... this.data.items.map( item => <Item { ... item } /> ) }\n\t\t\t\t</div>\n\t\t\t)\n\t\t\t\n\t\t}\n\t\t\n\t}\n}\n"]}